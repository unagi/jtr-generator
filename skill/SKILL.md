---
name: jtr-generator
description: JIS規格準拠の日本の履歴書をPDF形式で生成するSkill。対話的な情報収集またはYAML/JSONファイルからPDF生成が可能。
---

# 日本の履歴書生成Skill

このスキルは[Agent Skills仕様](https://agentskills.io)に準拠しています。

## Overview

JIS規格準拠の日本の履歴書（rirekisho）をPDF形式で生成するスキルです。

**主な機能:**
- ユーザーとの対話による情報収集
- YAML/JSONファイルからの一括生成
- JIS規格準拠のレイアウト
- 和暦/西暦の切り替え対応

**使用場面:**
- 日本企業への就職・転職活動における履歴書作成
- データから一貫性のある履歴書フォーマット生成

## Details

### 技術仕様

**入力形式:**
- YAML形式（推奨）
- JSON形式
- 対話形式（Agent経由）

**出力形式:**
- PDF（A4サイズ、JIS規格準拠）
- 和暦/西暦の自動切り替え対応
- 証明写真エリア付き

**データ検証:**
- JSON Schema準拠の厳格なバリデーション
- 日付形式チェック（ISO 8601）
- 必須フィールドの完全性確認

**カスタマイズ:**
- フォント変更対応（デフォルト: BIZ UDMincho）
- 用紙サイズ設定（A4のみ、B5は将来対応予定）
- 日付表記切り替え（和暦/西暦）

**エラーハンドリング:**
- すべてのエラーメッセージは日本語で表示
- 具体的な修正方法を提示

### データスキーマ要件

**必須フィールド:**
- `personal_info`: 氏名、氏名かな、生年月日、性別、住所、電話番号、メールアドレス
- `education`: 学歴（配列、最低1件）
- `work_history`: 職歴（配列、0件以上可）

**オプションフィールド:**
- `contact_info`: 連絡先（現住所以外に連絡を希望する場合）
- `qualifications`: 資格・免許（配列）
- `additional_info`: 志望動機、自己PR、本人希望欄

**日付形式規則:**
- 生年月日: `YYYY-MM-DD`（例: `1990-04-01`）
- 年月: `YYYY-MM`（例: `2010-04`）
- ISO 8601形式を厳守

**正式名称ルール:**
- 学校名: 「東京都立○○高等学校」（略称禁止）
- 会社名: 「株式会社○○」または「○○株式会社」（「㈱」禁止）
- 資格名: 「基本情報技術者試験 合格」（正式名称使用）

### Agent実行指示

このスキルを実行するAgentは、以下のルールに従って動作します。

**データ収集プロセス:**
1. 必須フィールドの確認（不足がある場合は質問する）
2. 日付形式の統一（ユーザーが和暦で回答した場合は西暦に変換）
3. 正式名称の使用（略語は使用しない）
4. サンプルデータ参照（形式の質問があれば `examples/sample_resume.yaml` を提示）

**データ検証:**
- JSON Schemaによるバリデーション実行
- エラー時は具体的な修正箇所を指摘
- 日本語でわかりやすく説明

**PDF生成:**
- `main.py` の `main()` 関数を呼び出し
- 生成されたPDFファイルパスをユーザーに提供

## Examples

### 1. 対話形式での生成

**ユーザー入力:**
```
履歴書を作成してください。氏名は山田太郎です。生年月日は1990年4月1日です。
```

**Agent動作:**
- 不足している情報（住所、電話番号、学歴など）を対話的に収集
- データ収集完了後、PDF生成を実行

### 2. YAMLファイルからの生成

**ユーザー入力:**
```
[YAMLファイルを添付] このファイルから履歴書を生成してください。
```

**Agent動作:**
- ファイルを読み込み
- JSON Schemaでバリデーション
- バリデーション成功後、PDF生成

### 3. オプション指定

**ユーザー入力:**
```
和暦表記で履歴書を作成してください。
```

**Agent動作:**
- `config.yaml` のデフォルト設定を上書き
- 和暦形式でPDF生成

### 4. サンプルデータ参照

**ユーザー入力:**
```
サンプルデータの形式を教えてください。
```

**Agent動作:**
- `examples/sample_resume.yaml` の内容を提示

## Guidelines

### エラーハンドリング

**フォントファイル不在時:**
```
フォントファイルが見つかりません。config.yamlのfonts設定を確認するか、デフォルトフォント（BIZ UDMincho）のパスを確認してください。
```

**JSON Schemaバリデーション失敗時:**
```
データ検証に失敗しました。[具体的なエラー内容] を修正してください。
```

**日付形式エラー:**
```
日付形式が不正です。YYYY-MM-DD形式（例: 1990-04-01）で指定してください。
```

### セキュリティとプライバシー

- 個人情報の取り扱いに注意
- 生成されたPDFはセッション終了後に自動削除
- エラーメッセージは必ず日本語で表示

### 実行環境要件

- Python 3.11以上
- 必要なライブラリ: reportlab, pyyaml, jsonschema
- 日本語フォント（BIZ UDMincho）
